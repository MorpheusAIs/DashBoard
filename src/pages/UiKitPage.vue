<template>
  <div class="ui-kit-page">
    <div class="ui-kit-page__buttons">
      <app-button size="small" :text="'button'" />
      <app-button size="small" :text="'button'" scheme="flat" />
      <app-button size="small" :text="'button'" scheme="none" />

      <app-button size="small" :text="'button'" color="success" />
      <app-button size="small" :text="'button'" scheme="flat" color="success" />
      <app-button size="small" :text="'button'" scheme="none" color="success" />

      <app-button size="small" :text="'button'" color="error" />
      <app-button size="small" :text="'button'" scheme="flat" color="error" />
      <app-button size="small" :text="'button'" scheme="none" color="error" />

      <app-button size="small" :text="'button'" color="warning" />
      <app-button size="small" :text="'button'" scheme="flat" color="warning" />
      <app-button size="small" :text="'button'" scheme="none" color="warning" />

      <app-button size="small" :text="'button'" color="warning" />
      <app-button size="small" :text="'button'" scheme="flat" color="warning" />
      <app-button size="small" :text="'button'" scheme="none" color="warning" />

      <app-button size="small" :text="'button'" color="info" />
      <app-button size="small" :text="'button'" scheme="flat" color="info" />
      <app-button size="small" :text="'button'" scheme="none" color="info" />
    </div>
    <div class="ui-kit-page__buttons">
      <app-button :text="'button'" />
      <app-button :text="'button'" scheme="flat" />
      <app-button :text="'button'" scheme="none" />

      <app-button :text="'button'" modification="border-circle" />
      <app-button :text="'button'" scheme="flat" modification="border-circle" />
      <app-button :text="'button'" scheme="none" modification="border-circle" />

      <app-button :text="'button'" modification="border-rounded" />
      <app-button
        :text="'button'"
        scheme="flat"
        modification="border-rounded"
      />
      <app-button
        :text="'button'"
        scheme="none"
        modification="border-rounded"
      />

      <app-button :text="'button'" modification="none" />
      <app-button :text="'button'" scheme="flat" modification="none" />
      <app-button :text="'button'" scheme="none" modification="none" />
    </div>
    <div class="ui-kit-page__buttons">
      <app-button size="large" :text="'button'" />
      <app-button size="large" :text="'button'" scheme="flat" />
      <app-button size="large" :text="'button'" scheme="none" />
    </div>
    <div class="ui-kit-page__buttons">
      <app-button size="small" :icon-right="$icons.plus" />
      <app-button size="small" :icon-right="$icons.plus" scheme="flat" />
      <app-button size="small" :icon-right="$icons.plus" scheme="none" />

      <app-button size="small" :icon-right="$icons.plus" color="success" />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="flat"
        color="success"
      />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="none"
        color="success"
      />

      <app-button size="small" :icon-right="$icons.plus" color="error" />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="flat"
        color="error"
      />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="none"
        color="error"
      />

      <app-button size="small" :icon-right="$icons.plus" color="warning" />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="flat"
        color="warning"
      />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="none"
        color="warning"
      />

      <app-button size="small" :icon-right="$icons.plus" color="warning" />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="flat"
        color="warning"
      />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="none"
        color="warning"
      />

      <app-button size="small" :icon-right="$icons.plus" color="info" />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="flat"
        color="info"
      />
      <app-button
        size="small"
        :icon-right="$icons.plus"
        scheme="none"
        color="info"
      />
    </div>
    <div class="ui-kit-page__buttons">
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="flat"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="none"
      />

      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        color="success"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="flat"
        color="success"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="none"
        color="success"
      />

      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        color="error"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="flat"
        color="error"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="none"
        color="error"
      />

      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        color="warning"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="flat"
        color="warning"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="none"
        color="warning"
      />

      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        color="warning"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="flat"
        color="warning"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="none"
        color="warning"
      />

      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        color="info"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="flat"
        color="info"
      />
      <app-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.plus"
        scheme="none"
        color="info"
      />
    </div>

    <div class="ui-kit-page__buttons">
      <app-button
        size="small"
        :text="'bus.success'"
        color="success"
        @click="() => bus.emit(BUS_EVENTS.success, 'Some success message')"
      />
      <app-button
        size="small"
        :text="'bus.error'"
        color="error"
        @click="() => bus.emit(BUS_EVENTS.error, 'Some error message')"
      />
      <app-button
        size="small"
        :text="'bus.warning'"
        color="warning"
        @click="() => bus.emit(BUS_EVENTS.warning, 'Some warning message')"
      />
      <app-button
        size="small"
        :text="'bus.info'"
        color="info"
        @click="() => bus.emit(BUS_EVENTS.info, 'Some info message')"
      />

      <app-button
        size="small"
        :text="'ErrorHandler.process'"
        color="error"
        @click="handleProcessError"
      />
    </div>

    <div class="ui-kit-page__inputs">
      <input-field v-model="form.input" />
      <input-field v-model="form.input" :label="'label'" />
      <input-field
        v-model="form.input"
        :label="'label'"
        :placeholder="'placeholder'"
      />
      <input-field
        v-model="form.input"
        :label="'label'"
        :placeholder="'placeholder'"
        :error-message="'error message'"
      />
      <input-field
        v-model="form.input"
        :label="'label'"
        :placeholder="'placeholder'"
      >
        <template #nodeLeft>
          <icon class="input__icon" :name="$icons.search" />
        </template>
      </input-field>
      <input-field
        v-model="form.input"
        :label="'label'"
        :placeholder="'placeholder'"
      >
        <template #nodeLeft>
          <icon class="input__icon" :name="$icons.search" />
        </template>
        <template #nodeRight>
          <icon class="input__icon" :name="$icons.plus" />
        </template>
      </input-field>
      <input-field
        v-model="form.input"
        :label="'label'"
        :placeholder="'placeholder'"
        :note="'lorem ipsum dolor sit amet concestetur!'"
      >
        <template #nodeLeft>
          <icon class="input__icon" :name="$icons.search" />
        </template>
        <template #nodeRight>
          <icon class="input__icon" :name="$icons.plus" />
        </template>
      </input-field>
      <input-field
        v-model="form.input"
        :label="'label'"
        :placeholder="'placeholder'"
        :note="'lorem ipsum dolor sit amet concestetur!'"
        disabled
      >
        <template #nodeLeft>
          <icon class="input__icon" :name="$icons.search" />
        </template>
        <template #nodeRight>
          <icon class="input__icon" :name="$icons.plus" />
        </template>
      </input-field>
    </div>

    <div class="ui-kit-page__select-fields">
      <select-field v-model="form.select" :value-options="SELECT_OPTIONS" />
      <select-field
        :label="`Label`"
        v-model="form.select"
        :value-options="SELECT_OPTIONS"
      />
      <select-field
        :label="`Label`"
        v-model="form.select"
        :value-options="SELECT_OPTIONS"
        error-message="error message"
      />
      <select-field
        :label="`Label`"
        v-model="form.select"
        :value-options="SELECT_OPTIONS"
        note="Note message"
      />
      <basic-select-field
        :label="`Label`"
        v-model="form.select"
        :value-options="
          SELECT_OPTIONS.map(el => ({
            title: String(el).concat('++'),
            value: el,
          }))
        "
      />
      <select-field
        :label="`Label`"
        v-model="form.select"
        :value-options="SELECT_OPTIONS"
        disabled
      />
      <basic-select-field
        :label="`Label`"
        v-model="form.select"
        :value-options="
          SELECT_OPTIONS.map(el => ({
            title: String(el).concat('++'),
            value: el,
          }))
        "
        disabled
      />

      <textarea-field v-model="form.textarea" />
      <textarea-field v-model="form.textarea" :label="`Label`" />
      <textarea-field
        v-model="form.textarea"
        :label="`Label`"
        error-message="Error message"
      />

      <checkbox-field v-model="form.checkbox" />
      <checkbox-field v-model="form.checkbox" :label="`Label`" />
      <checkbox-field v-model="form.checkbox" :label="`Label`" disabled />

      <switch-field v-model="form.switch" :value="String(form.switch)" />
      <switch-field
        v-model="form.switch"
        :value="String(form.switch)"
        :label="`Label`"
      />
      <switch-field
        v-model="form.switch"
        :value="String(form.switch)"
        disabled
      />
    </div>

    <section class="ui-kit-page__form">
      <login-form />
    </section>

    <section class="ui-kit-page__common">
      <error-message :message="$t('ui-kit-page.loading-error-msg')" />
      <no-data-message :message="$t('ui-kit-page.no-data-msg')" />
      <loader />
      <loader class="ui-kit-page__loader-skeleton" scheme="skeleton" />
      <accordion class="ui-kit-page__collapse">
        <template #head="{ accordion }">
          <app-button
            class="ui-kit-page__accordion-btn"
            scheme="flat"
            :text="$t('ui-kit-page.accordion-btn')"
            @click="accordion.toggle"
          >
          </app-button>
        </template>
        <div class="ui-kit-page__accordion-body">
          {{ $t('ui-kit-page.collapse-text') }}
        </div>
      </accordion>
      <div class="ui-kit-page__collapse-wrp">
        <app-button
          text="Toggle collapse"
          @click="() => (isCollapseShown = !isCollapseShown)"
        />
        <collapse :is-shown="isCollapseShown">
          <div class="ui-kit-page__collapse-body">
            {{ $t('ui-kit-page.collapse-text') }}
          </div>
        </collapse>
      </div>
      <app-button
        :text="$t('ui-kit-page.modal-btn')"
        @click="isModalShown = true"
      />
      <basic-modal
        class="ui-kit-page__basic-modal"
        v-model:is-shown="isModalShown"
        :title="`Modal Title`"
        :subtitle="`Lorem ipsum dolor sit amet, consectetur adipisicing elit.`"
      >
        <div class="ui-kit-page__modal-body">
          {{ $t('ui-kit-page.collapse-text') }}
        </div>
      </basic-modal>
      <div class="ui-kit-page__icons">
        <icon :name="$icons.academicCap" />
        <icon :name="$icons.adjustments" />
        <icon :name="$icons.annotation" />
        <icon :name="$icons.archive" />
        <icon :name="$icons.arrowCircleDown" />
        <icon :name="$icons.arrowCircleLeft" />
        <icon :name="$icons.arrowCircleRight" />
        <icon :name="$icons.arrowCircleUp" />
        <icon :name="$icons.arrowDown" />
        <icon :name="$icons.arrowLeft" />
      </div>
    </section>
  </div>
</template>

<script lang="ts" setup>
import {
  AppButton,
  BasicModal,
  ErrorMessage,
  NoDataMessage,
  Loader,
  Icon,
  Accordion,
  Collapse,
} from '@/common'
import {
  CheckboxField,
  InputField,
  SelectField,
  TextareaField,
  BasicSelectField,
  SwitchField,
} from '@/fields'
import LoginForm from '@/forms/LoginForm.vue'

import { reactive, ref } from 'vue'
import { bus, BUS_EVENTS, ErrorHandler } from '@/helpers'

const isModalShown = ref(false)
const isCollapseShown = ref(false)

const SELECT_OPTIONS = [1, 2, 3, 4, 5]

const form = reactive({
  input: '',
  select: '',
  textarea: '',
  checkbox: false,
  switch: false,
})

const handleProcessError = () => {
  ErrorHandler.process(new Error('some error message'))
}
</script>

<style lang="scss" scoped>
.ui-kit-page {
  display: flex;
  flex-direction: column;
  gap: toRem(24);
  padding: toRem(24) var(--app-padding-right) toRem(24) var(--app-padding-left);
}

.ui-kit-page__buttons {
  display: flex;
  flex-wrap: wrap;
  gap: toRem(12);
}

.ui-kit-page__inputs,
.ui-kit-page__select-fields {
  display: grid;
  align-items: start;
  grid-template-columns: repeat(auto-fill, #{toRem(210)});
  grid-gap: toRem(36);
}

.input__icon {
  width: toRem(24);
  height: toRem(24);
}

.ui-kit-page__inputs {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: toRem(32);
}

.ui-kit-page__common {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: flex-end;
  gap: toRem(56);
}

.ui-kit-page__collapse {
  width: 100%;
}

.ui-kit-page__accordion-btn {
  width: 100%;
}

.ui-kit-page__accordion-body {
  font-size: toRem(24);
}

.ui-kit-page__collapse-wrp {
  display: flex;
  flex-direction: column;
  gap: toRem(16);
  width: 100%;
}

.ui-kit-page__collapse-body {
  width: 100%;
  font-size: toRem(24);
}

.ui-kit-page__icons {
  width: 100%;
  display: grid;
  grid-template-columns: repeat(auto-fill, toRem(24));
  grid-gap: toRem(24);

  & > * {
    width: toRem(24);
    height: toRem(24);
  }
}

.ui-kit-page__input-icon {
  max-width: toRem(24);
  max-height: toRem(24);
}

.ui-kit-page__loader-skeleton {
  width: toRem(200);
  height: toRem(24);
  margin-bottom: toRem(16);
}

.ui-kit-page__basic-modal {
  &::v-global(.basic-modal__pane) {
    --basic-modal-max-width: #{toRem(452)};
  }
}
</style>
